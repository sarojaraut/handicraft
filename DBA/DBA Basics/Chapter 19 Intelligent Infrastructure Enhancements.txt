Chapter 19 Intelligent Infrastructure Enhancements

SRs(Service Requests.) used to be called TARs (Technical Assistant Requests), and you will still hear many DBAs using phrases such as “raising a tar.” 

The Automatic Diagnostic Repository (ADR)
The ADR is a central storage point for all diagnostic information. This includes various dumps and trace files, the alert log, and health monitor reports. The location of the ADR is determined by the instance parameter DIAGNOSTIC_DEST. 
This will default to the ORACLE_BASE environment variable. (if ORACLE_BASE has not been set then DIAGNOSTIC_DEST set to the ORACLE_HOME/log directory) 
Within the DIAGNOSTIC_DEST, there will be a directory for the ADR_BASE: this is DIAGNOSTIC_DEST/diag. 
In the ADR_BASE there are directories for each Oracle product, such as the RDBMS, or database listeners. 
Within each product directory, there will be directories for each instance of the product: this is the ADR_HOME for the instance. For a database instance, the ADR_HOME is ORACLE_BASE/diag/database_name/instance_name
The directory ADR_HOME/trace is used as the default value for the instance parameters USER_DUMP_DEST (trace files generated by user sessions) and BACKGROUND_DUMP_DEST (the alert log and trace files generated by background processes). There is another copy of the alert log, formatted with XML tags, in ADR_HOME/alert.

Manage Patches
Patches are shipped in three forms:
■ Interim patches These are written to fix one specific problem, for an exact release level of the database. They are not necessarily fully integration or regression tested.
■ CPU (Critical Patch Update) patches These are cumulative patches for a specific release level and include all dependent patches. CPUs are fully integration and regression tested.
■ Patch sets A patch set is a cumulative set of product fixes that will increment the release level of the product (as reported by a query against V$VERSION), for instance, from 11.1.0.6 to 11.1.0.7.s. Patch releases are fully tested product fixes that : don't include new functionality, contain individual bug fixes, carry version number, affects only software residing in the oracle home.

Many DBAs try to avoid installing interim patches. They will fix a problem, but applying several may be problematic because of the lack of integration testing. CPUs and patch sets are much safer.

Applying Patches
Patches can be applied with the Opatch utility, or with Database Control; the Database Control method in fact uses Opatch behind the scenes. The Opatch utility is installed into the directory ORACLE_HOME/Opatch and launched by running the executable file opatch (or opatch.bat on Windows)

To test the prerequisites, use the LSINVENTORY command

opatch -lsinventory

All patches will come with a README.TXT file of instructions detailing how to install the patch. These instructions will include detail on whether the database should be open or shut down while the patch is applied. To apply a patch once it is downloaded from MetaLink and expanded (it will have come as a ZIP file), run
Opatch as follows:
opatch apply path_to_patch
where path_to_patch is the directory where the patch was expanded.

Online patching provides the ability to install bug fixes and diagnostics patches online on a running oracle instance. This is the recommended solution to avoid down time during patch installation. opatch can be used to install or un-install online patches. 

-------------- Oracle Material
Working with support

To view critical erorrs EM home page  ->active incidents -> this will open the support work bench page 
